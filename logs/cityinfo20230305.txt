2023-03-05 14:40:42.183 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-05 14:40:42.395 -03:00 [DBG] Hosting starting
2023-03-05 14:40:42.737 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 9630F223AFEF12A419273A2882617EE9B66CC56E)
2023-03-05 14:40:42.882 -03:00 [INF] Now listening on: https://localhost:7117
2023-03-05 14:40:42.898 -03:00 [INF] Now listening on: http://localhost:5186
2023-03-05 14:40:42.902 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-05 14:40:42.907 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-05 14:40:42.910 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-05 14:40:42.913 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-05 14:40:42.916 -03:00 [INF] Hosting environment: Development
2023-03-05 14:40:42.920 -03:00 [INF] Content root path: H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\
2023-03-05 14:40:42.922 -03:00 [DBG] Hosting started
2023-03-05 14:40:43.245 -03:00 [DBG] Connection id "0HMOTK2V97QVK" accepted.
2023-03-05 14:40:43.250 -03:00 [DBG] Connection id "0HMOTK2V97QVK" started.
2023-03-05 14:40:43.554 -03:00 [DBG] Connection id "0HMOTK2V97QVL" accepted.
2023-03-05 14:40:43.580 -03:00 [DBG] Connection id "0HMOTK2V97QVL" started.
2023-03-05 14:40:44.060 -03:00 [DBG] Connection id "0HMOTK2V97QVM" accepted.
2023-03-05 14:40:44.419 -03:00 [DBG] Connection id "0HMOTK2V97QVM" started.
2023-03-05 14:40:44.648 -03:00 [DBG] Connection 0HMOTK2V97QVM established using the following protocol: "Tls12"
2023-03-05 14:40:44.784 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/swagger/index.html - -
2023-03-05 14:40:44.855 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-05 14:40:44.896 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-05 14:40:44.898 -03:00 [DBG] Request did not match any endpoints
2023-03-05 14:40:45.327 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-05 14:40:45.797 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/_framework/aspnetcore-browser-refresh.js - -
2023-03-05 14:40:45.799 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-05 14:40:45.833 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 35.3997ms
2023-03-05 14:40:45.833 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/swagger/index.html - - - 200 - text/html;charset=utf-8 1055.4835ms
2023-03-05 14:40:46.022 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/_vs/browserLink - -
2023-03-05 14:40:46.132 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 110.1095ms
2023-03-05 14:40:46.288 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/swagger/v1/swagger.json - -
2023-03-05 14:40:46.290 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-05 14:40:46.292 -03:00 [DBG] Request did not match any endpoints
2023-03-05 14:40:46.679 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 390.9946ms
2023-03-05 14:40:53.504 -03:00 [DBG] Authentication of the HTTPS connection timed out.
2023-03-05 14:40:53.525 -03:00 [DBG] Connection id "0HMOTK2V97QVK" stopped.
2023-03-05 14:40:53.528 -03:00 [DBG] Connection id "0HMOTK2V97QVK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-05 14:40:53.770 -03:00 [DBG] Authentication of the HTTPS connection timed out.
2023-03-05 14:40:53.779 -03:00 [DBG] Connection id "0HMOTK2V97QVL" stopped.
2023-03-05 14:40:53.783 -03:00 [DBG] Connection id "0HMOTK2V97QVL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-05 14:43:00.495 -03:00 [DBG] Connection id "0HMOTK2V97QVN" accepted.
2023-03-05 14:43:00.502 -03:00 [DBG] Connection id "0HMOTK2V97QVN" received FIN.
2023-03-05 14:43:00.503 -03:00 [DBG] Connection id "0HMOTK2V97QVN" started.
2023-03-05 14:43:00.519 -03:00 [DBG] Connection id "0HMOTK2V97QVO" accepted.
2023-03-05 14:43:00.591 -03:00 [DBG] Connection id "0HMOTK2V97QVO" started.
2023-03-05 14:43:00.614 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-05 14:43:00.623 -03:00 [DBG] Connection 0HMOTK2V97QVO established using the following protocol: "Tls12"
2023-03-05 14:43:00.686 -03:00 [DBG] Connection id "0HMOTK2V97QVN" stopped.
2023-03-05 14:43:00.690 -03:00 [DBG] Connection id "0HMOTK2V97QVN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-05 14:43:00.699 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7117/api/cities/3/pointsofinterest application/json 120
2023-03-05 14:43:00.710 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-03-05 14:43:00.719 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-03-05 14:43:00.723 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-05 14:43:00.726 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-05 14:43:00.731 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-05 14:43:00.792 -03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointsOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointsOfInterestForCreationDTO) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-05 14:43:00.796 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-05 14:43:00.798 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-05 14:43:00.801 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-05 14:43:00.805 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-05 14:43:00.807 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-05 14:43:00.810 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-05 14:43:01.239 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-05 14:43:01.527 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-05 14:43:01.537 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-05 14:43:01.542 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-05 14:43:01.545 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-05 14:43:01.547 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-05 14:43:01.549 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-05 14:43:01.553 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-05 14:43:01.558 -03:00 [DBG] Attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO' ...
2023-03-05 14:43:01.561 -03:00 [DBG] Attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO' using the name '' in request data ...
2023-03-05 14:43:01.565 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-05 14:43:01.568 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-05 14:43:01.583 -03:00 [DBG] Connection id "0HMOTK2V97QVO", Request id "0HMOTK2V97QVO:00000002": started reading request body.
2023-03-05 14:43:01.587 -03:00 [DBG] Connection id "0HMOTK2V97QVO", Request id "0HMOTK2V97QVO:00000002": done reading request body.
2023-03-05 14:43:01.776 -03:00 [DBG] Done attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO'.
2023-03-05 14:43:01.779 -03:00 [DBG] Done attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO'.
2023-03-05 14:43:01.781 -03:00 [DBG] Attempting to validate the bound parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO' ...
2023-03-05 14:43:01.792 -03:00 [DBG] Done attempting to validate the bound parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO'.
2023-03-05 14:43:03.871 -03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-05 14:43:03.953 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(city => city.Id == __cityId_0)'
2023-03-05 14:43:04.429 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-05 14:43:04.523 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-05 14:43:04.530 -03:00 [DBG] Creating DbConnection.
2023-03-05 14:43:04.568 -03:00 [DBG] Created DbConnection. (32ms).
2023-03-05 14:43:04.583 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (57ms).
2023-03-05 14:43:04.595 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (75ms).
2023-03-05 14:43:04.615 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:43:04.663 -03:00 [DBG] Opened connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:43:04.691 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-05 14:43:04.781 -03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-05 14:43:04.809 -03:00 [DBG] Closing data reader to 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:43:04.825 -03:00 [DBG] A data reader for 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db' is being disposed after spending 25ms reading results.
2023-03-05 14:43:04.840 -03:00 [DBG] Closing connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:43:04.849 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (9ms).
2023-03-05 14:43:04.873 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(city => city.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-05 14:43:04.938 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-05 14:43:04.956 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-05 14:43:04.958 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-03-05 14:43:04.960 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-03-05 14:43:04.962 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:43:04.964 -03:00 [DBG] Opened connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:43:04.970 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-05 14:43:04.975 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-05 14:43:05.016 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:43:05.045 -03:00 [DBG] Closing data reader to 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:43:05.048 -03:00 [DBG] A data reader for 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db' is being disposed after spending 69ms reading results.
2023-03-05 14:43:05.052 -03:00 [DBG] Closing connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:43:05.055 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-05 14:43:05.069 -03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-05 14:43:05.075 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-05 14:43:05.110 -03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:43:05.161 -03:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:43:05.196 -03:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:43:05.224 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:43:05.231 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-05 14:43:05.356 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:43:05.360 -03:00 [DBG] Opened connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:43:05.368 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-05 14:43:05.371 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-03-05 14:43:05.373 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-03-05 14:43:05.375 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-03-05 14:43:05.389 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-03-05 14:43:05.422 -03:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-05 14:43:05.441 -03:00 [DBG] Closing data reader to 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:43:05.444 -03:00 [DBG] A data reader for 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db' is being disposed after spending 48ms reading results.
2023-03-05 14:43:05.447 -03:00 [DBG] Closing connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:43:05.449 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-05 14:43:05.465 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:43:05.472 -03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-05 14:43:05.478 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-05 14:43:05.488 -03:00 [DBG] No information found on request to perform content negotiation.
2023-03-05 14:43:05.490 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-05 14:43:05.491 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-05 14:43:05.493 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-05 14:43:05.496 -03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointsOfInterestDto'.
2023-03-05 14:43:05.521 -03:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-03-05 14:43:05.539 -03:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "3", "controller": "PointsOfInterest" } and { "cityId": "3", "pointOfInterestI": "7" } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2023-03-05 14:43:05.544 -03:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2023-03-05 14:43:05.834 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 5017.1173ms
2023-03-05 14:43:05.938 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-05 14:43:06.120 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-03-05 14:43:06.149 -03:00 [DBG] Connection id "0HMOTK2V97QVO" completed keep alive response.
2023-03-05 14:43:06.159 -03:00 [DBG] 'CityInfoContext' disposed.
2023-03-05 14:43:06.178 -03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:43:06.184 -03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (5ms).
2023-03-05 14:43:06.187 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7117/api/cities/3/pointsofinterest application/json 120 - 500 - text/plain;+charset=utf-8 5488.2602ms
2023-03-05 14:44:33.548 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-05 14:44:33.730 -03:00 [DBG] Hosting starting
2023-03-05 14:44:34.153 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 9630F223AFEF12A419273A2882617EE9B66CC56E)
2023-03-05 14:44:34.201 -03:00 [INF] Now listening on: https://localhost:7117
2023-03-05 14:44:34.204 -03:00 [INF] Now listening on: http://localhost:5186
2023-03-05 14:44:34.206 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-05 14:44:34.208 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-05 14:44:34.210 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-05 14:44:34.212 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-05 14:44:34.214 -03:00 [INF] Hosting environment: Development
2023-03-05 14:44:34.216 -03:00 [INF] Content root path: H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\
2023-03-05 14:44:34.217 -03:00 [DBG] Hosting started
2023-03-05 14:44:34.400 -03:00 [DBG] Connection id "0HMOTK545NIHN" received FIN.
2023-03-05 14:44:34.402 -03:00 [DBG] Connection id "0HMOTK545NIHN" accepted.
2023-03-05 14:44:34.408 -03:00 [DBG] Connection id "0HMOTK545NIHN" started.
2023-03-05 14:44:34.652 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-05 14:44:35.114 -03:00 [DBG] Connection id "0HMOTK545NIHO" accepted.
2023-03-05 14:44:35.196 -03:00 [DBG] Connection id "0HMOTK545NIHN" stopped.
2023-03-05 14:44:35.283 -03:00 [DBG] Connection id "0HMOTK545NIHO" started.
2023-03-05 14:44:35.322 -03:00 [DBG] Connection id "0HMOTK545NIHN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-05 14:44:35.547 -03:00 [DBG] Connection 0HMOTK545NIHO established using the following protocol: "Tls12"
2023-03-05 14:44:35.651 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/swagger/index.html - -
2023-03-05 14:44:35.748 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-05 14:44:35.807 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-05 14:44:35.809 -03:00 [DBG] Request did not match any endpoints
2023-03-05 14:44:36.268 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-05 14:44:36.548 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-05 14:44:36.589 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/_framework/aspnetcore-browser-refresh.js - -
2023-03-05 14:44:36.674 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/swagger/index.html - - - 200 - text/html;charset=utf-8 1030.8601ms
2023-03-05 14:44:36.685 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 96.6943ms
2023-03-05 14:44:36.806 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/_vs/browserLink - -
2023-03-05 14:44:36.913 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 106.6684ms
2023-03-05 14:44:37.384 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/swagger/v1/swagger.json - -
2023-03-05 14:44:37.386 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-05 14:44:37.388 -03:00 [DBG] Request did not match any endpoints
2023-03-05 14:44:37.700 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 315.4548ms
2023-03-05 14:44:45.059 -03:00 [DBG] Connection id "0HMOTK545NIHP" accepted.
2023-03-05 14:44:45.060 -03:00 [DBG] Connection id "0HMOTK545NIHP" received FIN.
2023-03-05 14:44:45.061 -03:00 [DBG] Connection id "0HMOTK545NIHP" started.
2023-03-05 14:44:45.061 -03:00 [DBG] Connection id "0HMOTK545NIHQ" accepted.
2023-03-05 14:44:45.145 -03:00 [DBG] Connection id "0HMOTK545NIHQ" started.
2023-03-05 14:44:45.145 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-05 14:44:45.152 -03:00 [DBG] Connection id "0HMOTK545NIHP" stopped.
2023-03-05 14:44:45.154 -03:00 [DBG] Connection id "0HMOTK545NIHP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-05 14:44:45.156 -03:00 [DBG] Connection 0HMOTK545NIHQ established using the following protocol: "Tls12"
2023-03-05 14:44:45.170 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7117/api/cities/3/pointsofinterest application/json 120
2023-03-05 14:44:45.180 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-03-05 14:44:45.193 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-03-05 14:44:45.196 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-05 14:44:45.202 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-05 14:44:45.207 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-05 14:44:45.281 -03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointsOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointsOfInterestForCreationDTO) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-05 14:44:45.287 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-05 14:44:45.292 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-05 14:44:45.294 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-05 14:44:45.299 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-05 14:44:45.303 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-05 14:44:45.306 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-05 14:44:45.554 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-05 14:44:45.837 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-05 14:44:45.845 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-05 14:44:45.850 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-05 14:44:45.856 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-05 14:44:45.864 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-05 14:44:45.874 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-05 14:44:45.878 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-05 14:44:45.890 -03:00 [DBG] Attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO' ...
2023-03-05 14:44:45.894 -03:00 [DBG] Attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO' using the name '' in request data ...
2023-03-05 14:44:45.898 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-05 14:44:45.902 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-05 14:44:45.917 -03:00 [DBG] Connection id "0HMOTK545NIHQ", Request id "0HMOTK545NIHQ:00000002": started reading request body.
2023-03-05 14:44:45.920 -03:00 [DBG] Connection id "0HMOTK545NIHQ", Request id "0HMOTK545NIHQ:00000002": done reading request body.
2023-03-05 14:44:46.104 -03:00 [DBG] Done attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO'.
2023-03-05 14:44:46.106 -03:00 [DBG] Done attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO'.
2023-03-05 14:44:46.108 -03:00 [DBG] Attempting to validate the bound parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO' ...
2023-03-05 14:44:46.120 -03:00 [DBG] Done attempting to validate the bound parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO'.
2023-03-05 14:45:15.743 -03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-05 14:45:15.838 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(city => city.Id == __cityId_0)'
2023-03-05 14:45:16.343 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-05 14:45:16.457 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-05 14:45:16.465 -03:00 [DBG] Creating DbConnection.
2023-03-05 14:45:16.500 -03:00 [DBG] Created DbConnection. (30ms).
2023-03-05 14:45:16.516 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2023-03-05 14:45:16.526 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (70ms).
2023-03-05 14:45:16.545 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:45:16.584 -03:00 [DBG] Opened connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:45:16.615 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-05 14:45:16.695 -03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-05 14:45:16.720 -03:00 [DBG] Closing data reader to 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:45:16.736 -03:00 [DBG] A data reader for 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db' is being disposed after spending 24ms reading results.
2023-03-05 14:45:16.750 -03:00 [DBG] Closing connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:45:16.763 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (13ms).
2023-03-05 14:46:04.325 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(city => city.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-05 14:46:04.441 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-05 14:46:04.462 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-05 14:46:04.464 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-05 14:46:04.466 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-03-05 14:46:04.468 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:46:04.471 -03:00 [DBG] Opened connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:46:04.473 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-05 14:46:04.477 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-05 14:46:04.523 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:46:04.552 -03:00 [DBG] Closing data reader to 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:46:04.556 -03:00 [DBG] A data reader for 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db' is being disposed after spending 74ms reading results.
2023-03-05 14:46:04.558 -03:00 [DBG] Closing connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:46:04.562 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2023-03-05 14:46:39.184 -03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-05 14:46:39.192 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-05 14:46:39.233 -03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:46:39.290 -03:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:46:39.319 -03:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:46:39.343 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:46:39.350 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-05 14:46:39.500 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:46:39.504 -03:00 [DBG] Opened connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:46:39.511 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-05 14:46:39.513 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-03-05 14:46:39.515 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-03-05 14:46:39.517 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-03-05 14:46:39.525 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-03-05 14:46:39.560 -03:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-05 14:46:39.581 -03:00 [DBG] Closing data reader to 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:46:39.583 -03:00 [DBG] A data reader for 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db' is being disposed after spending 54ms reading results.
2023-03-05 14:46:39.588 -03:00 [DBG] Closing connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:46:39.590 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-05 14:46:39.611 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:46:39.616 -03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-05 14:48:06.846 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-05 14:48:06.856 -03:00 [DBG] No information found on request to perform content negotiation.
2023-03-05 14:48:06.858 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-05 14:48:06.862 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-05 14:48:06.865 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-05 14:48:06.868 -03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointsOfInterestDto'.
2023-03-05 14:48:06.898 -03:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-03-05 14:48:06.917 -03:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "3", "controller": "PointsOfInterest" } and { "cityId": "3", "pointOfInterestI": "8" } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2023-03-05 14:48:06.922 -03:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2023-03-05 14:48:07.220 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 201907.111ms
2023-03-05 14:48:07.500 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-05 14:48:08.032 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-03-05 14:48:08.274 -03:00 [DBG] Connection id "0HMOTK545NIHQ" completed keep alive response.
2023-03-05 14:48:08.306 -03:00 [DBG] 'CityInfoContext' disposed.
2023-03-05 14:48:08.338 -03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:48:08.349 -03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (8ms).
2023-03-05 14:48:08.352 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7117/api/cities/3/pointsofinterest application/json 120 - 500 - text/plain;+charset=utf-8 203182.2623ms
2023-03-05 14:48:32.251 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7117/api/cities/3?includePointsOfInterest=reyw - -
2023-03-05 14:48:32.254 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2023-03-05 14:48:32.256 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2023-03-05 14:48:32.259 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-05 14:48:32.260 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-05 14:48:32.261 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-05 14:48:32.267 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-05 14:48:32.270 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-05 14:48:32.272 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-05 14:48:32.275 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-05 14:48:32.278 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-05 14:48:32.280 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-05 14:48:32.282 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-05 14:48:32.284 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-05 14:48:32.293 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-05 14:48:32.295 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-05 14:48:32.298 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-05 14:48:32.299 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-05 14:48:32.301 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-05 14:48:32.303 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-05 14:48:32.305 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-05 14:48:32.309 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-03-05 14:48:32.439 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-05 14:48:32.441 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-05 14:48:32.443 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-05 14:48:32.445 -03:00 [DBG] The request has model state errors, returning an error response.
2023-03-05 14:48:32.447 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-03-05 14:48:32.449 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-05 14:48:32.453 -03:00 [DBG] No information found on request to perform content negotiation.
2023-03-05 14:48:32.455 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-03-05 14:48:32.459 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-03-05 14:48:32.461 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-03-05 14:48:32.594 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 312.4548ms
2023-03-05 14:48:32.596 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-05 14:48:32.598 -03:00 [DBG] Connection id "0HMOTK545NIHQ" completed keep alive response.
2023-03-05 14:48:32.600 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7117/api/cities/3?includePointsOfInterest=reyw - - - 400 263 application/problem+json;+charset=utf-8 348.1776ms
2023-03-05 14:48:38.789 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7117/api/cities/3?includePointsOfInterest=true - -
2023-03-05 14:48:38.791 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2023-03-05 14:48:38.794 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2023-03-05 14:48:38.797 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-05 14:48:38.798 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-05 14:48:38.799 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-05 14:48:38.801 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-05 14:48:38.804 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-05 14:48:38.806 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-05 14:48:38.809 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-05 14:48:38.813 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-05 14:48:38.815 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-05 14:48:38.817 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-05 14:48:38.821 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-05 14:48:38.824 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-05 14:48:38.826 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-05 14:48:38.829 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-05 14:48:38.831 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-05 14:48:38.832 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-05 14:48:38.834 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-05 14:48:38.836 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-05 14:48:38.838 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-03-05 14:48:38.840 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-05 14:48:38.842 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-05 14:48:38.845 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-05 14:48:38.847 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-05 14:48:38.853 -03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-05 14:48:38.864 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(city => city.PointsOfInterest)
    .Where(city => city.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-05 14:48:38.896 -03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-03-05 14:48:39.044 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-05 14:48:39.052 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-05 14:48:39.053 -03:00 [DBG] Creating DbConnection.
2023-03-05 14:48:39.055 -03:00 [DBG] Created DbConnection. (1ms).
2023-03-05 14:48:39.056 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-03-05 14:48:39.058 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-03-05 14:48:39.061 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:48:39.062 -03:00 [DBG] Opened connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:48:39.065 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-03-05 14:48:39.069 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-03-05 14:48:39.073 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:48:39.081 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:48:39.085 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:48:39.087 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:48:39.089 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:48:39.091 -03:00 [DBG] Closing data reader to 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:48:39.095 -03:00 [DBG] A data reader for 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db' is being disposed after spending 22ms reading results.
2023-03-05 14:48:39.099 -03:00 [DBG] Closing connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:48:39.101 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-05 14:48:39.108 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-05 14:48:39.115 -03:00 [DBG] No information found on request to perform content negotiation.
2023-03-05 14:48:39.117 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-05 14:48:39.119 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-05 14:48:39.120 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-05 14:48:39.123 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-03-05 14:48:39.132 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 315.1362ms
2023-03-05 14:48:39.135 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-05 14:48:39.136 -03:00 [DBG] Connection id "0HMOTK545NIHQ" completed keep alive response.
2023-03-05 14:48:39.138 -03:00 [DBG] 'CityInfoContext' disposed.
2023-03-05 14:48:39.140 -03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:48:39.146 -03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (6ms).
2023-03-05 14:48:39.157 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7117/api/cities/3?includePointsOfInterest=true - - - 200 512 application/json;+charset=utf-8 367.8092ms
2023-03-05 14:51:33.562 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-03-05 14:51:33.743 -03:00 [DBG] Hosting starting
2023-03-05 14:51:33.998 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 9630F223AFEF12A419273A2882617EE9B66CC56E)
2023-03-05 14:51:34.055 -03:00 [INF] Now listening on: https://localhost:7117
2023-03-05 14:51:34.057 -03:00 [INF] Now listening on: http://localhost:5186
2023-03-05 14:51:34.059 -03:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-03-05 14:51:34.062 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-03-05 14:51:34.065 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-03-05 14:51:34.067 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-03-05 14:51:34.068 -03:00 [DBG] Connection id "0HMOTK9180S28" received FIN.
2023-03-05 14:51:34.069 -03:00 [INF] Hosting environment: Development
2023-03-05 14:51:34.070 -03:00 [INF] Content root path: H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\
2023-03-05 14:51:34.074 -03:00 [DBG] Hosting started
2023-03-05 14:51:34.082 -03:00 [DBG] Connection id "0HMOTK9180S28" accepted.
2023-03-05 14:51:34.089 -03:00 [DBG] Connection id "0HMOTK9180S28" started.
2023-03-05 14:51:34.331 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-05 14:51:34.791 -03:00 [DBG] Connection id "0HMOTK9180S29" accepted.
2023-03-05 14:51:34.882 -03:00 [DBG] Connection id "0HMOTK9180S29" started.
2023-03-05 14:51:34.890 -03:00 [DBG] Connection id "0HMOTK9180S28" stopped.
2023-03-05 14:51:35.277 -03:00 [DBG] Connection id "0HMOTK9180S28" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-05 14:51:35.332 -03:00 [DBG] Connection 0HMOTK9180S29 established using the following protocol: "Tls12"
2023-03-05 14:51:35.583 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/swagger/index.html - -
2023-03-05 14:51:35.730 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-03-05 14:51:35.774 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-03-05 14:51:35.776 -03:00 [DBG] Request did not match any endpoints
2023-03-05 14:51:36.231 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-03-05 14:51:36.534 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-03-05 14:51:36.560 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/swagger/index.html - - - 200 - text/html;charset=utf-8 980.2176ms
2023-03-05 14:51:36.884 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/_vs/browserLink - -
2023-03-05 14:51:36.884 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/_framework/aspnetcore-browser-refresh.js - -
2023-03-05 14:51:36.903 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 17.9005ms
2023-03-05 14:51:36.953 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 68.3731ms
2023-03-05 14:51:37.299 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7117/swagger/v1/swagger.json - -
2023-03-05 14:51:37.301 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-03-05 14:51:37.303 -03:00 [DBG] Request did not match any endpoints
2023-03-05 14:51:37.621 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7117/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 321.2348ms
2023-03-05 14:52:26.169 -03:00 [DBG] Connection id "0HMOTK9180S2A" accepted.
2023-03-05 14:52:26.174 -03:00 [DBG] Connection id "0HMOTK9180S2A" received FIN.
2023-03-05 14:52:26.178 -03:00 [DBG] Connection id "0HMOTK9180S2A" started.
2023-03-05 14:52:26.190 -03:00 [DBG] Connection id "0HMOTK9180S2B" accepted.
2023-03-05 14:52:26.256 -03:00 [DBG] Connection id "0HMOTK9180S2B" started.
2023-03-05 14:52:26.285 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-03-05 14:52:26.293 -03:00 [DBG] Connection id "0HMOTK9180S2A" stopped.
2023-03-05 14:52:26.295 -03:00 [DBG] Connection 0HMOTK9180S2B established using the following protocol: "Tls12"
2023-03-05 14:52:26.296 -03:00 [DBG] Connection id "0HMOTK9180S2A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-03-05 14:52:26.314 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7117/api/cities/3/pointsofinterest application/json 120
2023-03-05 14:52:26.327 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-03-05 14:52:26.339 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-03-05 14:52:26.341 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-05 14:52:26.345 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-05 14:52:26.350 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-05 14:52:26.413 -03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointsOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointsOfInterestForCreationDTO) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-03-05 14:52:26.420 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-05 14:52:26.422 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-05 14:52:26.424 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-05 14:52:26.428 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-05 14:52:26.430 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-05 14:52:26.437 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-05 14:52:26.908 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-03-05 14:52:27.189 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-03-05 14:52:27.196 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-03-05 14:52:27.201 -03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-03-05 14:52:27.205 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-05 14:52:27.206 -03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-03-05 14:52:27.208 -03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-03-05 14:52:27.212 -03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-03-05 14:52:27.217 -03:00 [DBG] Attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO' ...
2023-03-05 14:52:27.221 -03:00 [DBG] Attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO' using the name '' in request data ...
2023-03-05 14:52:27.225 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-03-05 14:52:27.227 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-03-05 14:52:27.242 -03:00 [DBG] Connection id "0HMOTK9180S2B", Request id "0HMOTK9180S2B:00000002": started reading request body.
2023-03-05 14:52:27.244 -03:00 [DBG] Connection id "0HMOTK9180S2B", Request id "0HMOTK9180S2B:00000002": done reading request body.
2023-03-05 14:52:27.427 -03:00 [DBG] Done attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO'.
2023-03-05 14:52:27.429 -03:00 [DBG] Done attempting to bind parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO'.
2023-03-05 14:52:27.432 -03:00 [DBG] Attempting to validate the bound parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO' ...
2023-03-05 14:52:27.442 -03:00 [DBG] Done attempting to validate the bound parameter 'pointsOfInterest' of type 'CityInfo.API.Models.PointsOfInterestForCreationDTO'.
2023-03-05 14:52:29.332 -03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-05 14:52:29.421 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(city => city.Id == __cityId_0)'
2023-03-05 14:52:29.905 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-05 14:52:29.996 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-05 14:52:30.002 -03:00 [DBG] Creating DbConnection.
2023-03-05 14:52:30.043 -03:00 [DBG] Created DbConnection. (33ms).
2023-03-05 14:52:30.058 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (56ms).
2023-03-05 14:52:30.069 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (74ms).
2023-03-05 14:52:30.088 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:52:30.125 -03:00 [DBG] Opened connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:30.150 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-05 14:52:30.227 -03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-03-05 14:52:30.256 -03:00 [DBG] Closing data reader to 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:30.270 -03:00 [DBG] A data reader for 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db' is being disposed after spending 26ms reading results.
2023-03-05 14:52:30.286 -03:00 [DBG] Closing connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:30.297 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (12ms).
2023-03-05 14:52:30.321 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(city => city.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-05 14:52:30.392 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-05 14:52:30.414 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-05 14:52:30.416 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-03-05 14:52:30.417 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-03-05 14:52:30.420 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:52:30.422 -03:00 [DBG] Opened connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:30.425 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-05 14:52:30.428 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-03-05 14:52:30.475 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:30.504 -03:00 [DBG] Closing data reader to 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:30.506 -03:00 [DBG] A data reader for 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db' is being disposed after spending 74ms reading results.
2023-03-05 14:52:30.508 -03:00 [DBG] Closing connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:30.510 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-05 14:52:30.524 -03:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-03-05 14:52:30.530 -03:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-03-05 14:52:30.565 -03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:30.616 -03:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:30.646 -03:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:30.676 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:30.683 -03:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-03-05 14:52:30.809 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:52:30.811 -03:00 [DBG] Opened connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:30.820 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-05 14:52:30.822 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-03-05 14:52:30.824 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-03-05 14:52:30.826 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-03-05 14:52:30.833 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-03-05 14:52:30.870 -03:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-03-05 14:52:30.887 -03:00 [DBG] Closing data reader to 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:30.889 -03:00 [DBG] A data reader for 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db' is being disposed after spending 51ms reading results.
2023-03-05 14:52:30.892 -03:00 [DBG] Closing connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:30.895 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-05 14:52:30.911 -03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:30.916 -03:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-03-05 14:52:30.924 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-05 14:52:30.933 -03:00 [DBG] No information found on request to perform content negotiation.
2023-03-05 14:52:30.936 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-05 14:52:30.938 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-05 14:52:30.940 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-05 14:52:30.942 -03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointsOfInterestDto'.
2023-03-05 14:52:30.967 -03:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-03-05 14:52:30.988 -03:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/9 and 
2023-03-05 14:52:30.993 -03:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/9
2023-03-05 14:52:31.076 -03:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 4626.6465ms
2023-03-05 14:52:31.081 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-03-05 14:52:31.084 -03:00 [DBG] Connection id "0HMOTK9180S2B" completed keep alive response.
2023-03-05 14:52:31.093 -03:00 [DBG] 'CityInfoContext' disposed.
2023-03-05 14:52:31.110 -03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:52:31.116 -03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (5ms).
2023-03-05 14:52:31.123 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7117/api/cities/3/pointsofinterest application/json 120 - 201 111 application/json;+charset=utf-8 4808.1890ms
2023-03-05 14:52:55.508 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7117/api/cities/3?includePointsOfInterest=true - -
2023-03-05 14:52:55.510 -03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2023-03-05 14:52:55.512 -03:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2023-03-05 14:52:55.516 -03:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-05 14:52:55.518 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-03-05 14:52:55.519 -03:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-05 14:52:55.525 -03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-03-05 14:52:55.528 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-03-05 14:52:55.532 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-03-05 14:52:55.534 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-03-05 14:52:55.537 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-03-05 14:52:55.540 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-03-05 14:52:55.542 -03:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-05 14:52:55.545 -03:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-03-05 14:52:55.559 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-03-05 14:52:55.561 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-03-05 14:52:55.565 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-05 14:52:55.567 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-03-05 14:52:55.569 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-03-05 14:52:55.571 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-03-05 14:52:55.573 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-05 14:52:55.575 -03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-03-05 14:52:55.578 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-05 14:52:55.582 -03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-05 14:52:55.585 -03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-03-05 14:52:55.587 -03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-03-05 14:52:55.592 -03:00 [DBG] Entity Framework Core 7.0.3 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.3' with options: None
2023-03-05 14:52:55.603 -03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(city => city.PointsOfInterest)
    .Where(city => city.Id == __cityId_0)
    .FirstOrDefault()'
2023-03-05 14:52:55.638 -03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-03-05 14:52:55.809 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-03-05 14:52:55.819 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-03-05 14:52:55.822 -03:00 [DBG] Creating DbConnection.
2023-03-05 14:52:55.823 -03:00 [DBG] Created DbConnection. (1ms).
2023-03-05 14:52:55.824 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-03-05 14:52:55.826 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-03-05 14:52:55.828 -03:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:52:55.833 -03:00 [DBG] Opened connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:55.835 -03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-03-05 14:52:55.840 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-03-05 14:52:55.844 -03:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:55.855 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:55.858 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:55.860 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:55.866 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:55.871 -03:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-03-05 14:52:55.878 -03:00 [DBG] Closing data reader to 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:55.885 -03:00 [DBG] A data reader for 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db' is being disposed after spending 41ms reading results.
2023-03-05 14:52:55.888 -03:00 [DBG] Closing connection to database 'main' on server 'H:\My Drive\TI\Pluralsight\ASP.NET Core Web API\ASP.NET Core Web API Fundamentals\CityInfo_PC\CityInfo.API\CityInfo.db'.
2023-03-05 14:52:55.890 -03:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-03-05 14:52:55.900 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-03-05 14:52:55.905 -03:00 [DBG] No information found on request to perform content negotiation.
2023-03-05 14:52:55.906 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-03-05 14:52:55.907 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-03-05 14:52:55.909 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-03-05 14:52:55.912 -03:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-03-05 14:52:55.932 -03:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 390.5858ms
2023-03-05 14:52:55.935 -03:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-03-05 14:52:55.936 -03:00 [DBG] Connection id "0HMOTK9180S2B" completed keep alive response.
2023-03-05 14:52:55.938 -03:00 [DBG] 'CityInfoContext' disposed.
2023-03-05 14:52:55.939 -03:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-03-05 14:52:55.941 -03:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-03-05 14:52:55.945 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7117/api/cities/3?includePointsOfInterest=true - - - 200 624 application/json;+charset=utf-8 436.9965ms
